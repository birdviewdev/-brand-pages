{"version":3,"file":"static/chunks/pages/debug-598c6c5dc206c90c.js","mappings":"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","sources":["webpack://_N_E/?f7e9","webpack://_N_E/./src/hooks/useDeviceInfo.ts","webpack://_N_E/./src/hooks/useAuthorize.tsx","webpack://_N_E/./src/pages/debug/index.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/debug\",\n      function () {\n        return require(\"private-next-pages/debug/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/debug\"])\n      });\n    }\n  ","import { useEffect, useState } from 'react';\n\nconst MY_APP_NAME = 'hwahae';\n\nconst IN_APP = 'inapp';\n\nconst WHALE_APP_NAMES = ['iPhone', 'Android'].map(\n  (platform) => `${platform}(.*)Whale`,\n);\nconst DAUM_APP_NAMES = ['Apps', 'Device\\\\/mobile'].map((name) => `Daum${name}`);\nconst FACEBOOK_APP_NAMES = ['_IAB', '4A', 'AN', 'IOS', 'SS'].map(\n  (kind) => `FB${kind}`,\n);\n\nconst FAMOUS_APP_NAMES = [\n  'NAVER',\n  'KAKAOTALK',\n  'Snapchat',\n  'Line',\n  'WirtschaftsWoche',\n  'Thunderbird',\n  'Instagram',\n  'everytimeApp',\n  'WhatsApp',\n  'Electron',\n  'wadiz',\n  'AliApp',\n  'zumapp',\n  'kakaostory',\n  'band',\n  'twitter',\n  ...WHALE_APP_NAMES,\n  ...DAUM_APP_NAMES,\n  ...FACEBOOK_APP_NAMES,\n];\n\nconst IS_IN_APP_BROWSER_PATTERN = [MY_APP_NAME, IN_APP, FAMOUS_APP_NAMES].join(\n  '|',\n);\n\nexport interface DeviceInfo {\n  isMobile: boolean;\n  isInAppBrowser: boolean;\n  isInApp: boolean;\n  // TODO: 구현하자\n  // isIn3rdPartyApp\n  // isAuthable\n  // authInfo\n}\n\ntype Return = DeviceInfo | null;\n\nconst useDeviceInfo = (): Return => {\n  const [deviceInfo, setDeviceInfo] = useState<Return>(null);\n  useEffect(() => {\n    const { userAgent } = window?.navigator ?? {};\n    if (!userAgent) {\n      setDeviceInfo(null);\n    }\n\n    const isMobile = Boolean(userAgent.match(/mobile/i));\n    const isInAppBrowser = Boolean(\n      userAgent.match(new RegExp(IS_IN_APP_BROWSER_PATTERN, 'i')),\n    );\n    const isInApp = Boolean(userAgent.match(new RegExp(MY_APP_NAME, 'i')));\n    setDeviceInfo({ isMobile, isInAppBrowser, isInApp });\n  }, []);\n\n  return deviceInfo;\n};\n\nexport default useDeviceInfo;\n","import { openAuth, showToast } from 'src/utils/nativeCommunicator';\n\ninterface Props {\n  failAuthFn?: () => void;\n  successAuthFn?: () => void;\n}\n\ninterface ReturnUseAuthorize {\n  requestAuth: () => void;\n}\n\nconst useAuthorize = ({\n  successAuthFn,\n  failAuthFn,\n}: Props): ReturnUseAuthorize => {\n  const handleSuccess = () => {\n    successAuthFn?.();\n  };\n\n  const handleFail = () => {\n    failAuthFn\n      ? failAuthFn()\n      : showToast(`인증이 실패하였습니다. 잠시 후 다시 시도해주세요.`);\n  };\n\n  const requestAuth = () => {\n    /** openAuth 네이티브 동작 params */\n    const { callbackId, onSuccess, onFail } = {\n      callbackId: `openAuth-${new Date().getTime()}`,\n      onSuccess: handleSuccess,\n      onFail: handleFail,\n    };\n\n    openAuth(callbackId, onSuccess, onFail);\n  };\n\n  return {\n    requestAuth,\n  };\n};\n\nexport default useAuthorize;\n","import { useEffect, useState } from 'react';\n\nimport useDeviceInfo from 'src/hooks/useDeviceInfo';\nimport {\n  copyInviteURLToClipboard,\n  copyToClipboard,\n  getLocation,\n  goToAttendance,\n  goToHwahaeShopping,\n  goToProductDetail,\n} from 'src/utils/nativeCommunicator';\n\nimport useAuthorize from '../../hooks/useAuthorize';\n\nconst Debug = (): JSX.Element => {\n  const test = '\\\\/';\n  const [productId, setProductId] = useState(1);\n  const [userAgent, setUserAgent] = useState('');\n  const [authResult, setAuthResult] = useState('init');\n  const [locationResult, setLocationResult] = useState('init');\n  const { isMobile, isInAppBrowser, isInApp } = useDeviceInfo() ?? {\n    isMobile: 'error',\n    isInAppBrowser: 'error',\n    isInApp: 'error',\n  };\n  const { requestAuth } = useAuthorize({\n    successAuthFn: () => {\n      setAuthResult('successAuthFn is called');\n    },\n    failAuthFn: () => {\n      setAuthResult('failAuthFn is called');\n    },\n  });\n\n  useEffect(() => {\n    setUserAgent(window.navigator.userAgent);\n  }, []);\n\n  const handleCopyInviteURLToClipboard = () =>\n    copyInviteURLToClipboard(\n      'code',\n      'https://birdviewdev.github.io/brand-pages/best-fit-product/result?id=1',\n    );\n\n  const handleLocation = () => {\n    getLocation(\n      (data) => setLocationResult(JSON.stringify(data)),\n      () => setLocationResult('failed'),\n    );\n  };\n  // PC 크롬 - userAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\n  // 모발크롬 - userAgent: Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Mobile Safari/537.36\n  // 안드 웹뷰- userAgent: Mozilla/5.0 (Linux; Android 13; SMN986N ) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/114.0.0.0 Mobile Safari/537.36 hwahae\n  return (\n    <div>\n      <div>userAgent: {userAgent}</div>\n      <div>test: {test}</div>\n      <div>isMobile: {isMobile.toString()}</div>\n      <div>isInAppBrowser: {isInAppBrowser.toString()}</div>\n      <div>isInApp: {isInApp.toString()}</div>\n      <div>\n        <button type=\"button\" onClick={handleCopyInviteURLToClipboard}>\n          copyInviteURLToClipboard\n        </button>\n      </div>\n      <div>\n        <button type=\"button\" onClick={() => copyToClipboard('ABC 도레미')}>\n          copyToClipboard\n        </button>\n      </div>\n      <div>\n        <button type=\"button\" onClick={() => goToAttendance()}>\n          goToAttendance\n        </button>\n      </div>\n      <div>\n        <button type=\"button\" onClick={() => goToHwahaeShopping()}>\n          goToHwahaeShopping\n        </button>\n      </div>\n      <div>\n        <input\n          value={productId}\n          onChange={(e) => setProductId(Number(e.target.value))}\n          type=\"number\"\n        />\n        <button type=\"button\" onClick={() => goToProductDetail(productId)}>\n          goToProductDetail\n        </button>\n      </div>\n      <div>\n        <div>authResult: {authResult}</div>\n        <button type=\"button\" onClick={requestAuth}>\n          requestAuth\n        </button>\n      </div>\n      <div>\n        <div>getLocation: {locationResult}</div>\n        <button type=\"button\" onClick={handleLocation}>\n          getLocation\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Debug;\n"],"names":["window","__NEXT_P","push","__webpack_require__","MY_APP_NAME","WHALE_APP_NAMES","map","concat","platform","DAUM_APP_NAMES","name","FACEBOOK_APP_NAMES","kind","FAMOUS_APP_NAMES","IS_IN_APP_BROWSER_PATTERN","join","useDeviceInfo","deviceInfo","setDeviceInfo","useState","useEffect","userAgent","navigator","isMobile","Boolean","match","isInAppBrowser","isInApp","__webpack_exports__","useAuthorize","successAuthFn","failAuthFn","param","handleSuccess","handleFail","showToast","requestAuth","callbackId","onSuccess","onFail","Date","getTime","openAuth","Debug","productId","setProductId","setUserAgent","authResult","setAuthResult","locationResult","setLocationResult","handleCopyInviteURLToClipboard","copyInviteURLToClipboard","handleLocation","getLocation","JSON","stringify","data","emotion_react_jsx_runtime_browser_esm","BX","div","toString","tZ","button","type","onClick","copyToClipboard","goToAttendance","goToHwahaeShopping","input","value","onChange","Number","e","target","goToProductDetail","debug"],"sourceRoot":""}